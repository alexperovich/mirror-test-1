This is the non-shared stuff for feature 3
